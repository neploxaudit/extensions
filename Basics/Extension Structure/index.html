<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Basics/Extension Structure" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Extension Structure | Chrome Extension Security</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="http://extensions.neplox.security/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="http://extensions.neplox.security/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="http://extensions.neplox.security/Basics/Extension Structure"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Extension Structure | Chrome Extension Security"><meta data-rh="true" name="description" content="Although for many extensions may seem simple, in reality, it is a set of several components, 4 of which are basic:"><meta data-rh="true" property="og:description" content="Although for many extensions may seem simple, in reality, it is a set of several components, 4 of which are basic:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://extensions.neplox.security/Basics/Extension Structure"><link data-rh="true" rel="alternate" href="http://extensions.neplox.security/Basics/Extension Structure" hreflang="en"><link data-rh="true" rel="alternate" href="http://extensions.neplox.security/Basics/Extension Structure" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.024a75a8.css">
<script src="/assets/js/runtime~main.59a8cf73.js" defer="defer"></script>
<script src="/assets/js/main.21997699.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Chrome Extension Security" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Chrome Extension Security" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Chrome Extension Security</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/neploxaudit/extensions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/category/basics">Basics</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Basics/Begin">Before Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Basics/Create">Creating Your Own Extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Basics/Extension Structure">Extension Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Basics/Storage">Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Basics/Naitive Messages">Native Messages</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/category/attack">Attack</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Attacks/Events">Exploit addEventListener</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Attacks/Message">Exploit Messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Attacks/Shadow">Open Closed Shadow DOM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Attacks/Clickjacking">Clickjacking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Attacks/Storage to UXSS">Unsafe storage to UXSS</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/category/more">More</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/More/intro">CVE-2024-10229</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/basics"><span itemprop="name">Basics</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Extension Structure</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Extension Structure</h1></header>
<p>Although for many extensions may seem simple, in reality, it is a set of several components, 4 of which are basic:</p>
<ul>
<li>In-page Script (Essentially inserting a <code>&lt;script&gt;</code> tag on the page, so there is no need to describe this separately in this article)</li>
<li>Content Script</li>
<li>Background Script</li>
<li>Extension Window</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Architecture" src="data:image/png;base64,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" width="388" height="316" class="img_ev3q"></p>
<p>Next, I would like to briefly list the components.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="content-script">Content Script<a href="#content-script" class="hash-link" aria-label="Direct link to Content Script" title="Direct link to Content Script">​</a></h2>
<p>The first component is the <code>Content Script</code>. If we take the official description from the <a href="https://developer.chrome.com/docs/extensions/develop/concepts/content-scripts" target="_blank" rel="noopener noreferrer">chrome</a> website, we can read that it is:</p>
<blockquote>
<p><code>Content scripts</code> are files that run in the context of web pages. Using the standard Document Object Model (DOM), they are able to read details of the web pages the browser visits, make changes to them, and pass information to their parent extension.</p>
</blockquote>
<p>Based on this wording, it may seem that this is the same as if you inserted a script on your site like this <code>&lt;script src=...example.js&gt;&lt;/script&gt;</code></p>
<p>However, this is not entirely true; the <code>content script</code> runs in an <code>isolated world</code>.</p>
<blockquote>
<p>An <code>isolated world</code> is a private execution environment that isn&#x27;t accessible to the page or other extensions. A practical consequence of this isolation is that JavaScript variables in an extension&#x27;s <code>content scripts</code> are not visible to the host page or other extensions&#x27; <code>content scripts</code>.</p>
</blockquote>
<p>What does this mean? Essentially, you can think of it as if your site is running several programs in parallel that do not share variables and so on, but are tied to one DOM.</p>
<p>To understand this in practice, after installing a test extension, open the developer console. In the upper left corner of the console, you will be able to select the context.</p>
<p><img decoding="async" loading="lazy" alt="isolated worlds" src="/assets/images/isolated-worlds-b1285ca309259a583559e91ca4d767cd.png" width="3248" height="1986" class="img_ev3q"></p>
<p>For testing, you can execute code in the main context of your site:</p>
<div class="language-javascript:my-website/docs/Basics/Extension language-javascript:my-website/docs/basics/extension codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript:my-website/docs/basics/extension codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">window.test=&#x27;elephant&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">({}).__proto__.neplox=&#x27;test&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After that, execute the code in the <code>extension</code> context by switching to it in the menu shown in the screenshot above:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">test</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">__proto__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">neplox</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Output undefined undefined</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This example shows the main idea of the <code>content script</code>; it allows extension developers not to worry that someone will affect their code.</p>
<p>However, besides convenience, this also carries a security mechanism. The <code>Isolation World</code> <code>content script</code> has functionalities that are not available on the site; here is a list of the most important ones:</p>
<ul>
<li>Access to extension local storage</li>
<li>Access to messaging with the <code>background script</code></li>
</ul>
<p>Since we mentioned the <code>background script</code>, let&#x27;s figure out what it is.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="background-script">Background script<a href="#background-script" class="hash-link" aria-label="Direct link to Background script" title="Direct link to Background script">​</a></h2>
<p>Essentially, the <code>Background script</code> is analogous to a <code>Service Worker</code>. It can communicate with the <code>content script</code>. Usually, all the most critical logic is implemented in this context, and the most critical data is stored (details in the chapter on storage).</p>
<p>Example background:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// Listen for connections from content scripts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">chrome</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">runtime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">onConnect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Connected to port:&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Listen for messages on the port</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">onMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Message received:&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// Respond to a specific message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">type</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;greet&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">postMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">reply</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Hello from background script!&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Optional: Respond when the port disconnects</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">onDisconnect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Port disconnected&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Accordingly, the interaction from the <code>content script</code> will look something like this:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> port </span><span class="token operator">=</span><span class="token plain"> chrome</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">runtime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">connect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">onMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">postMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;greet&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Message" src="/assets/images/runtime-example-message-dc97f7974c7ccec4dadbccfccb0d204f.png" width="3248" height="1986" class="img_ev3q"></p>
<p>You can also debug the <code>background script</code>. To do this, go to <code>chrome://extensions/?id=REPLACE_WITH_YOUR_EXTENSION_ID</code> and click <code>Inspect views service worker</code>, you will get the standard debugger window in the context of the <code>background script</code>, and now you can debug it like a regular site.</p>
<p><img decoding="async" loading="lazy" alt="debug-extension" src="/assets/images/debug-extension-a4c124f0695fcfdb639956f227ebc599.png" width="3194" height="1704" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="extension-window">Extension window<a href="#extension-window" class="hash-link" aria-label="Direct link to Extension window" title="Direct link to Extension window">​</a></h2>
<p>Extensions often have their own pages, which are essentially a regular website. However, it has several restrictions:</p>
<ul>
<li>It is accessible via a special protocol <code>chrome-extension://</code> and the URL looks like <code>chrome-extension://ID_OF_EXTENSION</code></li>
<li>Only sites that are explicitly allowed can open this page (through <code>iframe</code> or <code>window.open</code>)
Example of the Metamask window:
<img decoding="async" loading="lazy" alt="Metamask Extension Window" src="/assets/images/Metamask-Extension-Page-cb24292ace5ddd2e028689edee5146c9.png" width="3248" height="1986" class="img_ev3q"></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="manifest">Manifest<a href="#manifest" class="hash-link" aria-label="Direct link to Manifest" title="Direct link to Manifest">​</a></h2>
<p>To conclude this chapter, I would like to talk about the <code>manifest</code> file - this is the main description file of the extension, which describes which <code>content/background scripts</code> to load, as well as access restrictions, and so on.
A typical <code>manifest.json</code> looks something like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;manifest_version&quot;: 3,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;name&quot;: &quot;Test by Slonser&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;version&quot;: &quot;1.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;description&quot;: &quot;Slonser example&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;permissions&quot;: [ &quot;tabs&quot;, &quot;cookies&quot;, &quot;storage&quot;, &quot;scripting&quot;, &quot;sidePanel&quot; ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;action&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;default_icon&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;128&quot;: &quot;logo.jpg&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;background&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;service_worker&quot;: &quot;background.js&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;content_scripts&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;matches&quot;: [&quot;&lt;all_urls&gt;&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;js&quot;: [&quot;content.js&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;run_at&quot;: &quot;document_end&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;all_frames&quot;: true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;web_accessible_resources&quot;: [ {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;matches&quot;: [ &quot;http://*/*&quot;, &quot;https://*/*&quot; ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;resources&quot;: [ &quot;assets/example.js&quot;,&quot;assets/test.js&quot; ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;use_dynamic_url&quot;: false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     } ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>manifest.json</code> is a good starting point for analyzing the security of the extension; the full specification can be read <a href="https://developer.chrome.com/docs/extensions/reference/manifest" target="_blank" rel="noopener noreferrer">here</a>.
Throughout the articles, we will refer to misconfigurations of the <code>manifest</code> and errors caused by this. However, it does not make sense to describe all its properties here. Just read the official documentation at the link above.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Basics/Create"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Creating Your Own Extension</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Basics/Storage"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Storage</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#content-script" class="table-of-contents__link toc-highlight">Content Script</a></li><li><a href="#background-script" class="table-of-contents__link toc-highlight">Background script</a></li><li><a href="#extension-window" class="table-of-contents__link toc-highlight">Extension window</a></li><li><a href="#manifest" class="table-of-contents__link toc-highlight">Manifest</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://x.com/slonser_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Maintainer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/neploxaudit" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://x.com/neploxaudit/extensions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Slonser with Neplox Team. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>